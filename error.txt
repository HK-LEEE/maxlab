15:20:20.575 🆕 New or unauthenticated user, preparing for silent auth attempt index-CNtCASxu.js:228:3948
15:20:20.577 🛡️ New CSRF token generated index-CNtCASxu.js:262:6222
15:20:20.577 🛡️ CSRF protection initialized with new token index-CNtCASxu.js:262:5768
15:20:20.582 WEBGL_debug_renderer_info is deprecated in Firefox and will be removed. Please use RENDERER. index-CNtCASxu.js:262:20427
15:20:20.584 📁 Loaded 1 queued security events from localStorage index-CNtCASxu.js:262:44396
15:20:20.593 ✅ Auth sync initialized with BroadcastChannel index-CNtCASxu.js:262:84158
15:20:20.594 🔄 Auth state change: idle → silent_auth
Object { isAuthenticated: false, hasUser: false, stackTrace: (3) […] }
index-CNtCASxu.js:227:3352
15:20:20.594 🔇 Attempting silent SSO login... index-CNtCASxu.js:262:89843
15:20:20.594 🚫 Unsafe path for token refresh: /login index-CNtCASxu.js:257:18481
15:20:20.594 🚫 Silent auth not allowed on current page: /login index-CNtCASxu.js:257:16502
15:20:20.595 ℹ️ Silent SSO login failed: Cannot attempt silent auth on current page index-CNtCASxu.js:262:91427
15:20:20.595 🔄 Auth state change: silent_auth → ready
Object { isAuthenticated: false, hasUser: false, stackTrace: (3) […] }
index-CNtCASxu.js:227:3352
15:20:20.596 🚫 Unsafe path for token refresh: /login index-CNtCASxu.js:257:18481
15:20:20.597 🔥 Login component render - current state:
Object { isAuthenticated: false, oauthLoading: false, silentLoginAttempting: false, hasLoggedOutRef: false, authAttemptRef: false }
index-CNtCASxu.js:752:4401
15:20:20.599 🛑 User not authenticated, stopping token refresh index-CNtCASxu.js:262:103268
15:20:20.599 🔥 Component mounted, current oauthLoading: false index-CNtCASxu.js:752:4989
15:20:20.604 🔥 Login component render - current state:
Object { isAuthenticated: false, oauthLoading: false, silentLoginAttempting: true, hasLoggedOutRef: false, authAttemptRef: true }
index-CNtCASxu.js:752:4401
15:20:20.605 🔄 Logout detected, resetting login component state index-CNtCASxu.js:752:5395
15:20:20.605 🔥 Login component render - current state:
Object { isAuthenticated: false, oauthLoading: false, silentLoginAttempting: false, hasLoggedOutRef: true, authAttemptRef: false }
index-CNtCASxu.js:752:4401
15:20:20.699 🔇 Attempting silent SSO login... index-CNtCASxu.js:262:89843
15:20:20.700 🚫 Unsafe path for token refresh: /login index-CNtCASxu.js:257:18481
15:20:20.700 🚫 Silent auth not allowed on current page: /login index-CNtCASxu.js:257:16502
15:20:20.700 ℹ️ Silent SSO login failed: Cannot attempt silent auth on current page index-CNtCASxu.js:262:91427
15:20:20.702 🔥 Login component render - current state:
Object { isAuthenticated: false, oauthLoading: false, silentLoginAttempting: false, hasLoggedOutRef: true, authAttemptRef: false }
index-CNtCASxu.js:752:4401
15:20:26.767 🔥 handleOAuthLogin called with forceAccountSelection: false index-CNtCASxu.js:752:6765
15:20:26.768 🔥 Current oauthLoading state: false index-CNtCASxu.js:752:6837
15:20:26.768 🔥 Current isAuthenticated state: false index-CNtCASxu.js:752:6885
15:20:26.768 🔥 Setting oauthLoading to true index-CNtCASxu.js:752:7091
15:20:26.768 🚀 About to call loginWithPopupOAuth with forceAccountSelection: false index-CNtCASxu.js:752:10735
15:20:26.768 📊 Current state:
Object { isAuthenticated: false, oauthLoading: false, hasAccessToken: false, hasUser: false, forceAccountSelectionFlag: null }
index-CNtCASxu.js:752:10817
15:20:26.770 🔥 About to call authService.loginWithPopupOAuth index-CNtCASxu.js:752:11275
15:20:26.770 🔥 authService object:
Object { loginWithPopupOAuth: async loginWithPopupOAuth(e), attemptSilentLogin: async attemptSilentLogin(), getCurrentUser: async getCurrentUser(), validateToken: async validateToken(), logout: async logout(e), _secureCleanup: async _secureCleanup(), isAuthenticated: isAuthenticated(), getStoredUser: getStoredUser(), redirectToSignup: redirectToSignup(), refreshToken: async refreshToken(e)
, … }
index-CNtCASxu.js:752:11339
15:20:26.770 🔥 forceAccountSelection: false index-CNtCASxu.js:752:11380
15:20:26.770 🔐 OAuth Configuration:
Object { clientId: "maxlab", redirectUri: "https://maxlab.dwchem.co.kr/oauth/callback", authUrl: "https://max.dwchem.co.kr", runtimeConfig: "Not available", envAuthUrl: "https://max.dwchem.co.kr", currentOrigin: "https://maxlab.dwchem.co.kr" }
index-CNtCASxu.js:228:20734
15:20:26.770 🔐 Starting popup OAuth login (force account selection: false)... index-CNtCASxu.js:262:86404
15:20:26.771 🔥 Login component render - current state:
Object { isAuthenticated: false, oauthLoading: true, silentLoginAttempting: false, hasLoggedOutRef: true, authAttemptRef: false }
index-CNtCASxu.js:752:4401
15:20:26.781 🔐 OAuth flow state created:
Object { flowId: "me10ct9a351kqlcv78x", flowType: "popup", expiresIn: "900s", forceAccountSelection: false }
index-CNtCASxu.js:228:12027
15:20:26.782 🔄 OAuth flow status updated:
Object { flowId: "me10ct9a351kqlcv78x", status: "in_progress", flowType: "popup" }
index-CNtCASxu.js:228:14627
15:20:26.782 🔐 OAuth Flow State Created:
Object { flowId: "me10ct9a351kqlcv78x", flowType: "popup", state: "IQxM_-Fb...", codeVerifier: "jR5F_ySD...", nonce: "VVZRNV0o...", forceAccountSelection: false, expiresAt: "2025-08-07T06:35:26.782Z", timestamp: "2025-08-07T06:20:26.782Z" }
index-CNtCASxu.js:228:23061
15:20:26.782 🔐 Opening OAuth popup: https://max.dwchem.co.kr/api/oauth/authorize?response_type=code&client_id=maxlab&redirect_uri=https%3A%2F%2Fmaxlab.dwchem.co.kr%2Foauth%2Fcallback&scope=openid+profile+email+offline_access+read%3Aprofile+read%3Agroups+manage%3Aworkflows&state=IQxM_-FboLSfrRIaZYvkERfm2ojS6En4rD5_1JkD36I&code_challenge=WyDSHSPrr5AURC1_3QqjdV5EXjXUu9F63eQr6AKKO0o&code_challenge_method=S256&nonce=VVZRNV0o4AYnYg4aXVqAE-RAPbL-h5OOFF96yvQVRsA index-CNtCASxu.js:228:24360
15:20:26.782 📋 Full OAuth URL params: response_type=code&client_id=maxlab&redirect_uri=https%3A%2F%2Fmaxlab.dwchem.co.kr%2Foauth%2Fcallback&scope=openid+profile+email+offline_access+read%3Aprofile+read%3Agroups+manage%3Aworkflows&state=IQxM_-FboLSfrRIaZYvkERfm2ojS6En4rD5_1JkD36I&code_challenge=WyDSHSPrr5AURC1_3QqjdV5EXjXUu9F63eQr6AKKO0o&code_challenge_method=S256&nonce=VVZRNV0o4AYnYg4aXVqAE-RAPbL-h5OOFF96yvQVRsA index-CNtCASxu.js:228:24401
15:20:26.782 📡 Setting up message listeners before popup... index-CNtCASxu.js:228:24455
15:20:26.896 ✅ OAuth popup opened successfully index-CNtCASxu.js:233:153
15:20:28.366 📨 Parent window received message:
Object { type: "OAUTH_MESSAGE", data: {…} }
index-CNtCASxu.js:228:24551
15:20:28.368 📨 OAuth message validation:
Object { origin: "https://max.dwchem.co.kr", messageType: "OAUTH_MESSAGE", validationResult: {…}, trustedOrigins: "https://maxlab.dwchem.co.kr,https://max.dwchem.co.kr,https://maxlab.io..." }
index-CNtCASxu.js:233:4457
15:20:28.368 📨 Received OAuth message:
Object { type: "OAUTH_MESSAGE", data: {…} }
index-CNtCASxu.js:233:5658
15:20:28.368 Message origin: https://max.dwchem.co.kr index-CNtCASxu.js:233:5707
15:20:28.368 Message type: OAUTH_MESSAGE index-CNtCASxu.js:233:5747
15:20:28.368 📦 Processing nested OAuth message from auth server index-CNtCASxu.js:233:5847
15:20:28.368 🔄 Mapping OAUTH_LOGIN_SUCCESS_CONTINUE to OAUTH_SUCCESS index-CNtCASxu.js:233:6021
15:20:28.368 📝 OAuth params received:
Object { response_type: "code", client_id: "maxlab", redirect_uri: "https://maxlab.dwchem.co.kr/oauth/callback", scope: "openid profile email offline_access read:profile read:groups manage:workflows", state: "IQxM_-FboLSfrRIaZYvkERfm2ojS6En4rD5_1JkD36I", code_challenge: "WyDSHSPrr5AURC1_3QqjdV5EXjXUu9F63eQr6AKKO0o", code_challenge_method: "S256", nonce: "VVZRNV0o4AYnYg4aXVqAE-RAPbL-h5OOFF96yvQVRsA" }
index-CNtCASxu.js:233:6092
15:20:28.368 ⏳ Waiting for callback page to complete token exchange... index-CNtCASxu.js:233:7359
15:20:28.369 📨 Parent window received message:
Object { type: "OAUTH_MESSAGE", data: {…} }
​
data: Object { type: "OAUTH_ALREADY_AUTHENTICATED", oauthParams: {…}, timestamp: 1754547628367 }
​​
oauthParams: Object { response_type: "code", client_id: "maxlab", redirect_uri: "https://maxlab.dwchem.co.kr/oauth/callback", … }
​​
timestamp: 1754547628367
​​
type: "OAUTH_ALREADY_AUTHENTICATED"
​​
<prototype>: Object { … }
​
type: "OAUTH_MESSAGE"
​
<prototype>: Object { … }
index-CNtCASxu.js:228:24551
15:20:28.369 📨 OAuth message validation:
Object { origin: "https://max.dwchem.co.kr", messageType: "OAUTH_MESSAGE", validationResult: {…}, trustedOrigins: "https://maxlab.dwchem.co.kr,https://max.dwchem.co.kr,https://maxlab.io..." }
index-CNtCASxu.js:233:4457
15:20:28.369 📨 Received OAuth message:
Object { type: "OAUTH_MESSAGE", data: {…} }
index-CNtCASxu.js:233:5658
15:20:28.369 Message origin: https://max.dwchem.co.kr index-CNtCASxu.js:233:5707
15:20:28.369 Message type: OAUTH_MESSAGE index-CNtCASxu.js:233:5747
15:20:28.369 📦 Processing nested OAuth message from auth server index-CNtCASxu.js:233:5847
