15:03:51.463 ✅ Auth sync initialized with BroadcastChannel index-CNtCASxu.js:262:84158
15:03:51.463 🔄 Auth state change: idle → silent_auth
Object { isAuthenticated: false, hasUser: false, stackTrace: (3) […] }
index-CNtCASxu.js:227:3352
15:03:51.464 🔇 Attempting silent SSO login... index-CNtCASxu.js:262:89843
15:03:51.464 🚫 Unsafe path for token refresh: /login index-CNtCASxu.js:257:18481
15:03:51.464 🚫 Silent auth not allowed on current page: /login index-CNtCASxu.js:257:16502
15:03:51.465 ℹ️ Silent SSO login failed: Cannot attempt silent auth on current page index-CNtCASxu.js:262:91427
15:03:51.465 🔄 Auth state change: silent_auth → ready
Object { isAuthenticated: false, hasUser: false, stackTrace: (3) […] }
index-CNtCASxu.js:227:3352
15:03:51.466 🚫 Unsafe path for token refresh: /login index-CNtCASxu.js:257:18481
15:03:51.468 🔥 Login component render - current state:
Object { isAuthenticated: false, oauthLoading: false, silentLoginAttempting: false, hasLoggedOutRef: false, authAttemptRef: false }
index-CNtCASxu.js:752:4401
15:03:51.470 🛑 User not authenticated, stopping token refresh index-CNtCASxu.js:262:103268
15:03:51.470 🔥 Component mounted, current oauthLoading: false index-CNtCASxu.js:752:4989
15:03:51.474 🔥 Login component render - current state:
Object { isAuthenticated: false, oauthLoading: false, silentLoginAttempting: true, hasLoggedOutRef: false, authAttemptRef: true }
index-CNtCASxu.js:752:4401
15:03:51.475 🔄 Logout detected, resetting login component state index-CNtCASxu.js:752:5395
15:03:51.476 🔥 Login component render - current state:
Object { isAuthenticated: false, oauthLoading: false, silentLoginAttempting: false, hasLoggedOutRef: true, authAttemptRef: false }
index-CNtCASxu.js:752:4401
15:03:51.571 🔇 Attempting silent SSO login... index-CNtCASxu.js:262:89843
15:03:51.571 🚫 Unsafe path for token refresh: /login index-CNtCASxu.js:257:18481
15:03:51.571 🚫 Silent auth not allowed on current page: /login index-CNtCASxu.js:257:16502
15:03:51.571 ℹ️ Silent SSO login failed: Cannot attempt silent auth on current page index-CNtCASxu.js:262:91427
15:03:51.571 🔥 Login component render - current state:
Object { isAuthenticated: false, oauthLoading: false, silentLoginAttempting: false, hasLoggedOutRef: true, authAttemptRef: false }
index-CNtCASxu.js:752:4401
15:03:52.035 🔥 handleOAuthLogin called with forceAccountSelection: false index-CNtCASxu.js:752:6765
15:03:52.035 🔥 Current oauthLoading state: false index-CNtCASxu.js:752:6837
15:03:52.035 🔥 Current isAuthenticated state: false index-CNtCASxu.js:752:6885
15:03:52.035 🔥 Setting oauthLoading to true index-CNtCASxu.js:752:7091
15:03:52.035 🚀 About to call loginWithPopupOAuth with forceAccountSelection: false index-CNtCASxu.js:752:10735
15:03:52.035 📊 Current state:
Object { isAuthenticated: false, oauthLoading: false, hasAccessToken: false, hasUser: false, forceAccountSelectionFlag: null }
​
forceAccountSelectionFlag: null
​
hasAccessToken: false
​
hasUser: false
​
isAuthenticated: false
​
oauthLoading: false
​
<prototype>: Object { … }
index-CNtCASxu.js:752:10817
15:03:52.035 🔥 About to call authService.loginWithPopupOAuth index-CNtCASxu.js:752:11275
15:03:52.035 🔥 authService object:
Object { loginWithPopupOAuth: async loginWithPopupOAuth(e), attemptSilentLogin: async attemptSilentLogin(), getCurrentUser: async getCurrentUser(), validateToken: async validateToken(), logout: async logout(e), _secureCleanup: async _secureCleanup(), isAuthenticated: isAuthenticated(), getStoredUser: getStoredUser(), redirectToSignup: redirectToSignup(), refreshToken: async refreshToken(e)
, … }
​
_secureCleanup: async function _secureCleanup()​
attemptSilentLogin: async function attemptSilentLogin()​
getAuthDebugInfo: function getAuthDebugInfo()​
getCurrentUser: async function getCurrentUser()​
getStoredUser: function getStoredUser()​
getTokenTimeToExpiry: function getTokenTimeToExpiry()​
hasPermission: function hasPermission(e)​
isAuthenticated: function isAuthenticated()​
loginWithPopupOAuth: async function loginWithPopupOAuth(e)​
logout: async function logout(e)​
needsTokenRefresh: function needsTokenRefresh()​
redirectToSignup: function redirectToSignup()​
refreshToken: async function refreshToken(e)​
startAutoTokenRefresh: function startAutoTokenRefresh()​
validateIDToken: async function validateIDToken(e)​
validateToken: async function validateToken()​
<prototype>: Object { … }
index-CNtCASxu.js:752:11339
15:03:52.036 🔥 forceAccountSelection: false index-CNtCASxu.js:752:11380
15:03:52.036 🔐 OAuth Configuration:
Object { clientId: "maxlab", redirectUri: "https://maxlab.dwchem.co.kr/oauth/callback", authUrl: "https://max.dwchem.co.kr", runtimeConfig: "Not available", envAuthUrl: "https://max.dwchem.co.kr", currentOrigin: "https://maxlab.dwchem.co.kr" }
​
authUrl: "https://max.dwchem.co.kr"
​
clientId: "maxlab"
​
currentOrigin: "https://maxlab.dwchem.co.kr"
​
envAuthUrl: "https://max.dwchem.co.kr"
​
redirectUri: "https://maxlab.dwchem.co.kr/oauth/callback"
​
runtimeConfig: "Not available"
​
<prototype>: Object { … }
index-CNtCASxu.js:228:20734
15:03:52.036 🔐 Starting popup OAuth login (force account selection: false)... index-CNtCASxu.js:262:86404
15:03:52.037 🔥 Login component render - current state:
Object { isAuthenticated: false, oauthLoading: true, silentLoginAttempting: false, hasLoggedOutRef: true, authAttemptRef: false }
index-CNtCASxu.js:752:4401
15:03:52.047 🔐 OAuth flow state created:
Object { flowId: "me0zrhpskmi4lgaqcob", flowType: "popup", expiresIn: "900s", forceAccountSelection: false }
​
expiresIn: "900s"
​
flowId: "me0zrhpskmi4lgaqcob"
​
flowType: "popup"
​
forceAccountSelection: false
​
<prototype>: Object { … }
index-CNtCASxu.js:228:12027
15:03:52.047 🔄 OAuth flow status updated:
Object { flowId: "me0zrhpskmi4lgaqcob", status: "in_progress", flowType: "popup" }
​
flowId: "me0zrhpskmi4lgaqcob"
​
flowType: "popup"
​
status: "in_progress"
​
<prototype>: Object { … }
index-CNtCASxu.js:228:14627
15:03:52.047 🔐 OAuth Flow State Created:
Object { flowId: "me0zrhpskmi4lgaqcob", flowType: "popup", state: "HRtRjUe-...", codeVerifier: "_BirW_Nk...", nonce: "P_pxSwDY...", forceAccountSelection: false, expiresAt: "2025-08-07T06:18:52.048Z", timestamp: "2025-08-07T06:03:52.048Z" }
index-CNtCASxu.js:228:23061
15:03:52.048 🔐 Opening OAuth popup: https://max.dwchem.co.kr/api/oauth/authorize?response_type=code&client_id=maxlab&redirect_uri=https%3A%2F%2Fmaxlab.dwchem.co.kr%2Foauth%2Fcallback&scope=openid+profile+email+offline_access+read%3Aprofile+read%3Agroups+manage%3Aworkflows&state=HRtRjUe-k1CKOa0Sk3-KTdGWDrwkPE35I9VTNjQnILM&code_challenge=k21lFSzMRNLHclwKDOKqd9V-bJX3GPm7eLHnRZBA6kw&code_challenge_method=S256&nonce=P_pxSwDY2l9ftFGjObo2Ftn8KRUZPjnobFW-x_Ho7-o index-CNtCASxu.js:228:24360
15:03:52.048 📋 Full OAuth URL params: response_type=code&client_id=maxlab&redirect_uri=https%3A%2F%2Fmaxlab.dwchem.co.kr%2Foauth%2Fcallback&scope=openid+profile+email+offline_access+read%3Aprofile+read%3Agroups+manage%3Aworkflows&state=HRtRjUe-k1CKOa0Sk3-KTdGWDrwkPE35I9VTNjQnILM&code_challenge=k21lFSzMRNLHclwKDOKqd9V-bJX3GPm7eLHnRZBA6kw&code_challenge_method=S256&nonce=P_pxSwDY2l9ftFGjObo2Ftn8KRUZPjnobFW-x_Ho7-o index-CNtCASxu.js:228:24401
15:03:52.048 📡 Setting up message listeners before popup... index-CNtCASxu.js:228:24455
15:03:52.156 ✅ OAuth popup opened successfully index-CNtCASxu.js:233:153
15:03:54.302 📨 Parent window received message:
Object { type: "OAUTH_MESSAGE", data: {…} }
​
data: Object { type: "OAUTH_LOGIN_SUCCESS_CONTINUE", oauthParams: {…}, timestamp: 1754546634297 }
​
type: "OAUTH_MESSAGE"
​
<prototype>: Object { … }
index-CNtCASxu.js:228:24551
15:03:54.303 📨 OAuth message validation:
Object { origin: "https://max.dwchem.co.kr", messageType: "OAUTH_MESSAGE", validationResult: {…}, trustedOrigins: "https://maxlab.dwchem.co.kr,https://max.dwchem.co.kr,https://maxlab.io..." }
​
messageType: "OAUTH_MESSAGE"
​
origin: "https://max.dwchem.co.kr"
​
trustedOrigins: "https://maxlab.dwchem.co.kr,https://max.dwchem.co.kr,https://maxlab.io..."
​
validationResult: Object { isValid: true, reason: "Trusted origin", securityLevel: "low", … }
​
<prototype>: Object { … }
index-CNtCASxu.js:233:4457
15:03:54.304 📨 Received OAuth message:
Object { type: "OAUTH_MESSAGE", data: {…} }
​
data: Object { type: "OAUTH_LOGIN_SUCCESS_CONTINUE", oauthParams: {…}, timestamp: 1754546634297 }
​
type: "OAUTH_MESSAGE"
​
<prototype>: Object { … }
index-CNtCASxu.js:233:5658
15:03:54.304 Message origin: https://max.dwchem.co.kr index-CNtCASxu.js:233:5707
15:03:54.304 Message type: OAUTH_MESSAGE index-CNtCASxu.js:233:5747
15:03:54.304 📦 Processing nested OAuth message from auth server index-CNtCASxu.js:233:5847
15:03:54.304 🔄 Mapping OAUTH_LOGIN_SUCCESS_CONTINUE to OAUTH_SUCCESS index-CNtCASxu.js:233:6021
15:03:54.304 📝 OAuth params received:
Object { response_type: "code", client_id: "maxlab", redirect_uri: "https://maxlab.dwchem.co.kr/oauth/callback", scope: "openid profile email offline_access read:profile read:groups manage:workflows", state: "HRtRjUe-k1CKOa0Sk3-KTdGWDrwkPE35I9VTNjQnILM", code_challenge: "k21lFSzMRNLHclwKDOKqd9V-bJX3GPm7eLHnRZBA6kw", code_challenge_method: "S256", nonce: "P_pxSwDY2l9ftFGjObo2Ftn8KRUZPjnobFW-x_Ho7-o" }
​
client_id: "maxlab"
​
code_challenge: "k21lFSzMRNLHclwKDOKqd9V-bJX3GPm7eLHnRZBA6kw"
​
code_challenge_method: "S256"
​
nonce: "P_pxSwDY2l9ftFGjObo2Ftn8KRUZPjnobFW-x_Ho7-o"
​
redirect_uri: "https://maxlab.dwchem.co.kr/oauth/callback"
​
response_type: "code"
​
scope: "openid profile email offline_access read:profile read:groups manage:workflows"
​
state: "HRtRjUe-k1CKOa0Sk3-KTdGWDrwkPE35I9VTNjQnILM"
​
<prototype>: Object { … }
index-CNtCASxu.js:233:6092
15:03:54.304 ⏳ Waiting for callback page to complete token exchange... index-CNtCASxu.js:233:7359
15:03:54.305 📨 Parent window received message:
Object { type: "OAUTH_MESSAGE", data: {…} }
index-CNtCASxu.js:228:24551
15:03:54.305 📨 OAuth message validation:
Object { origin: "https://max.dwchem.co.kr", messageType: "OAUTH_MESSAGE", validationResult: {…}, trustedOrigins: "https://maxlab.dwchem.co.kr,https://max.dwchem.co.kr,https://maxlab.io..." }
​
messageType: "OAUTH_MESSAGE"
​
origin: "https://max.dwchem.co.kr"
​
trustedOrigins: "https://maxlab.dwchem.co.kr,https://max.dwchem.co.kr,https://maxlab.io..."
​
validationResult: Object { isValid: true, reason: "Trusted origin", securityLevel: "low", … }
​
<prototype>: Object { … }
index-CNtCASxu.js:233:4457
15:03:54.305 📨 Received OAuth message:
Object { type: "OAUTH_MESSAGE", data: {…} }
​
data: Object { type: "OAUTH_ALREADY_AUTHENTICATED", oauthParams: {…}, timestamp: 1754546634300 }
​
type: "OAUTH_MESSAGE"
​
<prototype>: Object { … }
index-CNtCASxu.js:233:5658
15:03:54.305 Message origin: https://max.dwchem.co.kr index-CNtCASxu.js:233:5707
15:03:54.305 Message type: OAUTH_MESSAGE index-CNtCASxu.js:233:5747
15:03:54.305 📦 Processing nested OAuth message from auth server index-CNtCASxu.js:233:5847
15:03:54.305 🔄 Mapping OAUTH_ALREADY_AUTHENTICATED to OAUTH_SUCCESS index-CNtCASxu.js:233:6021
15:03:54.305 📝 OAuth params received:
Object { response_type: "code", client_id: "maxlab", redirect_uri: "https://maxlab.dwchem.co.kr/oauth/callback", scope: "openid profile email offline_access read:profile read:groups manage:workflows", state: "HRtRjUe-k1CKOa0Sk3-KTdGWDrwkPE35I9VTNjQnILM", code_challenge: "k21lFSzMRNLHclwKDOKqd9V-bJX3GPm7eLHnRZBA6kw", code_challenge_method: "S256", nonce: "P_pxSwDY2l9ftFGjObo2Ftn8KRUZPjnobFW-x_Ho7-o" }
​
client_id: "maxlab"
​
code_challenge: "k21lFSzMRNLHclwKDOKqd9V-bJX3GPm7eLHnRZBA6kw"
​
code_challenge_method: "S256"
​
nonce: "P_pxSwDY2l9ftFGjObo2Ftn8KRUZPjnobFW-x_Ho7-o"
​
redirect_uri: "https://maxlab.dwchem.co.kr/oauth/callback"
​
response_type: "code"
​
scope: "openid profile email offline_access read:profile read:groups manage:workflows"
​
state: "HRtRjUe-k1CKOa0Sk3-KTdGWDrwkPE35I9VTNjQnILM"
​
<prototype>: Object { … }
​​
__defineGetter__: function __defineGetter__()
​​
__defineSetter__: function __defineSetter__()
​​
__lookupGetter__: function __lookupGetter__()
​​
__lookupSetter__: function __lookupSetter__()
​​
__proto__:
​​
constructor: function Object()
​​
hasOwnProperty: function hasOwnProperty()
isPrototypeOf: function isPrototypeOf()

propertyIsEnumerable: function propertyIsEnumerable()
​​
toLocaleString: function toLocaleString()
​​
toString: function toString()
​​
valueOf: function valueOf()
​​
<get __proto__()>: function __proto__()
​​
<set __proto__()>: function __proto__()
index-CNtCASxu.js:233:6092
15:03:54.305 👤 User already authenticated, checking for auth data... index-CNtCASxu.js:233:6340
15:03:54.305 ⚠️ No authorization code or token in OAUTH_ALREADY_AUTHENTICATED response index-CNtCASxu.js:233:7160
