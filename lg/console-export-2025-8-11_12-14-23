AuthContext.tsx:64 🔐 AuthContext initAuth 시작: Object
AuthContext.tsx:68 📡 TRY start
AuthContext.tsx:89 📡 사용자 정보 로드 시작
AuthContext.tsx:97 ✅ 사용자 정보 로드 성공: Object
DashboardPage.tsx:98 Features response: Object
DashboardPage.tsx:99 Features data: Array(9)
DashboardPage.tsx:204 Feature clicked: Object
DashboardPage.tsx:205 Feature URL path: https://maxlab.dwchem.co.kr
MainLayout.tsx:54 🔄 Starting smart logout process...
MainLayout.tsx:65 🔄 Calling backend logout API...
MainLayout.tsx:67 ✅ Backend logout API completed
MainLayout.tsx:75 🔄 Performing SSO logout...
AuthContext.tsx:172 🔄 Starting enhanced logout process...
AuthContext.tsx:184 🔄 Executing cross-domain logout synchronization...
crossDomainLogout.ts:35 🔄 Starting cross-domain logout process...
crossDomainLogout.ts:180 ✅ Local storage cleared
crossDomainLogout.ts:219 ✅ Cookies cleared
crossDomainLogout.ts:84 🔄 Attempting MAX Lab logout sync (attempt 1/2)
AuthContext.tsx:64 🔐 AuthContext initAuth 시작: Object
AuthContext.tsx:68 📡 TRY start
AuthContext.tsx:105 ❌ 토큰이 없어 인증되지 않은 상태
LoginPage.jsx:33 🔍 OAuth useEffect triggered: Object
VM1053 index-hqrokkxs.js:228 🔄 Rehydrating auth state for initialization Object
VM1053 index-hqrokkxs.js:228 📋 Authenticated user detected - will validate with server
VM1053 index-hqrokkxs.js:228 📋 Rehydrated state (pending server validation): Object
VM1053 index-hqrokkxs.js:263 🛡️ CSRF protection initialized with existing token
VM1053 index-hqrokkxs.js:263 🔀 OAuth Coordinator [06:54:36][Q:0|A:0]: 🏗️ OAuth Request Coordinator initialized
crossDomainLogout.ts:134 📡 MAX Lab logout sync iframe loaded
VM1053 index-hqrokkxs.js:263 ✅ Auth sync initialized with BroadcastChannel
VM1053 index-hqrokkxs.js:846 🔒 Initializing cross-domain logout listener
VM1053 index-hqrokkxs.js:846 📡 SSO: PostMessage listener registered
VM1053 index-hqrokkxs.js:227 🔄 Auth state change: idle → syncing Object
VM1053 index-hqrokkxs.js:258 🔄 Calling OAuth userinfo endpoint: https://max.dwchem.co.kr/api/oauth/userinfo
VM1053 index-hqrokkxs.js:227 🔄 Auth state change: ready → ready Object
VM1053 index-hqrokkxs.js:49 No routes matched location "/oauth/logout-sync" 
Vs @ VM1053 index-hqrokkxs.js:49
Nv @ VM1053 index-hqrokkxs.js:51
wN @ VM1053 index-hqrokkxs.js:49
IN @ VM1053 index-hqrokkxs.js:51
hh @ VM1053 index-hqrokkxs.js:48
Ah @ VM1053 index-hqrokkxs.js:48
Xy @ VM1053 index-hqrokkxs.js:48
_0 @ VM1053 index-hqrokkxs.js:48
P_ @ VM1053 index-hqrokkxs.js:48
ef @ VM1053 index-hqrokkxs.js:48
x0 @ VM1053 index-hqrokkxs.js:48
z0 @ VM1053 index-hqrokkxs.js:48
Ti @ VM1053 index-hqrokkxs.js:48
D0 @ VM1053 index-hqrokkxs.js:48
(anonymous) @ VM1053 index-hqrokkxs.js:48
crossDomainLogout.ts:93 ⚠️ MAX Lab logout sync timeout
(anonymous) @ crossDomainLogout.ts:93
crossDomainLogout.ts:84 🔄 Attempting MAX Lab logout sync (attempt 2/2)
index-hqrokkxs.js:228 🔄 Rehydrating auth state for initialization {state: {…}}
index-hqrokkxs.js:228 📋 Authenticated user detected - will validate with server
index-hqrokkxs.js:228 📋 Rehydrated state (pending server validation): {user: {…}, isAuthenticated: true, initState: 'syncing', error: null, lastSyncTime: 1754895276683, …}
index-hqrokkxs.js:263 🛡️ CSRF protection initialized with existing token
index-hqrokkxs.js:263 🔀 OAuth Coordinator [06:55:06][Q:0|A:0]: 🏗️ OAuth Request Coordinator initialized
crossDomainLogout.ts:134 📡 MAX Lab logout sync iframe loaded
index-hqrokkxs.js:263 ✅ Auth sync initialized with BroadcastChannel
index-hqrokkxs.js:846 🔒 Initializing cross-domain logout listener
index-hqrokkxs.js:846 📡 SSO: PostMessage listener registered
index-hqrokkxs.js:227 🔄 Auth state change: idle → syncing {isAuthenticated: true, hasUser: true, stackTrace: Array(3)}
index-hqrokkxs.js:258 🔄 Calling OAuth userinfo endpoint: https://max.dwchem.co.kr/api/oauth/userinfo
index-hqrokkxs.js:227 🔄 Auth state change: ready → ready {isAuthenticated: true, hasUser: true, stackTrace: Array(2)}
index-hqrokkxs.js:49 No routes matched location "/oauth/logout-sync" 
Vs @ index-hqrokkxs.js:49
Nv @ index-hqrokkxs.js:51
wN @ index-hqrokkxs.js:49
IN @ index-hqrokkxs.js:51
hh @ index-hqrokkxs.js:48
Ah @ index-hqrokkxs.js:48
Xy @ index-hqrokkxs.js:48
_0 @ index-hqrokkxs.js:48
P_ @ index-hqrokkxs.js:48
ef @ index-hqrokkxs.js:48
x0 @ index-hqrokkxs.js:48
z0 @ index-hqrokkxs.js:48
Ti @ index-hqrokkxs.js:48
D0 @ index-hqrokkxs.js:48
(anonymous) @ index-hqrokkxs.js:48


0|maxplatform-backend-8000  | 2025-08-11T15:49:54: 2025-08-11 15:49:54.212 [INFO] app.api.oauth_simple:2832 - 🔐 Starting enhanced logout process - client_id: None
0|maxplatform-backend-8000  | 2025-08-11T15:49:54: 2025-08-11 15:49:54.212 [INFO] app.api.oauth_simple:2862 - 🔐 Found token in cookie: access_token
0|maxplatform-backend-8000  | 2025-08-11T15:49:54: 2025-08-11 15:49:54.212 [INFO] app.utils.auth:289 - Auth event: token_verification | Data: {'event_type': 'token_verification', 'user_id': '21a2aaa7-444a-4038-bda3-d8bf2c4ef162', 'client_id': None, 'success': True, 'additional_data': {'token_type': 'access', 'jti': '36c6aa24-b5b4-4001-9dbe-10a361fd228e'}}
0|maxplatform-backend-8000  | 2025-08-11T15:49:54: 2025-08-11 15:49:54.213 [DEBUG] app.utils.auth:538 - ✅ User validated from token: admin@test.com
0|maxplatform-backend-8000  | 2025-08-11T15:49:54: 2025-08-11 15:49:54.214 [INFO] app.api.oauth_simple:2866 - 🔐 User from cookie access_token: admin@test.com
0|maxplatform-backend-8000  | 2025-08-11T15:49:54: 2025-08-11 15:49:54.214 [INFO] app.api.oauth_simple:2923 - 🔐 Revoked direct token: 0 tokens
0|maxplatform-backend-8000  | 2025-08-11T15:49:54: 2025-08-11 15:49:54.216 [DEBUG] app.core.redis_session:127 - 🔍 Session retrieved: 12c18761-5d86-4237-b2d4-180a918755f8
0|maxplatform-backend-8000  | 2025-08-11T15:49:54: 2025-08-11 15:49:54.217 [INFO] app.core.redis_session:199 - ✅ Session deleted: 12c18761-5d86-4237-b2d4-180a918755f8
0|maxplatform-backend-8000  | 2025-08-11T15:49:54: 2025-08-11 15:49:54.217 [INFO] app.core.redis_session:233 - ✅ Deleted 1 sessions for user 21a2aaa7-444a-4038-bda3-d8bf2c4ef162
0|maxplatform-backend-8000  | 2025-08-11T15:49:54: 2025-08-11 15:49:54.217 [INFO] app.core.oauth_redis_integration:167 - ✅ Cleaned up 1 OAuth Redis sessions for user 21a2aaa7-444a-4038-bda3-d8bf2c4ef162
0|maxplatform-backend-8000  | 2025-08-11T15:49:54: 2025-08-11 15:49:54.217 [INFO] app.api.oauth_simple:3029 - ✅ Cleaned up 1 Redis sessions for user 21a2aaa7-444a-4038-bda3-d8bf2c4ef162
0|maxplatform-backend-8000  | 2025-08-11T15:49:54: 2025-08-11 15:49:54.218 [INFO] app.api.oauth_simple:3078 - 🔐 Token revocation completed: {'access_tokens_revoked': 0, 'refresh_tokens_revoked': 1, 'sessions_terminated': 1, 'id_tokens_invalidated': 0, 'cookies_cleared': 0}
0|maxplatform-backend-8000  | 2025-08-11T15:49:54: 2025-08-11 15:49:54.220 [INFO] app.api.oauth_simple:3118 - 🔐 Logout redirect to trusted domain: max.dwchem.co.kr
0|maxplatform-backend-8000  | 2025-08-11T15:49:54: 2025-08-11 15:49:54.220 [INFO] app.api.oauth_simple:3130 - 🔐 Enhanced OIDC Logout completed: {'access_tokens_revoked': 0, 'refresh_tokens_revoked': 1, 'sessions_terminated': 1, 'id_tokens_invalidated': 0, 'cookies_cleared': 0}
0|maxplatform-backend-8000  | 2025-08-11T15:49:54: 2025-08-11 15:49:54.220 [INFO] app.api.oauth_simple:3131 - 🔐 Redirecting to: https://max.dwchem.co.kr/login?logout=success
0|maxplatform-backend-8000  | 2025-08-11T15:49:54: 2025-08-11 15:49:54.222 [INFO] uvicorn.access:496 - 192.168.9.87:0 - "GET /api/oauth/logout?post_logout_redirect_uri=https%3A%2F%2Fmax.dwchem.co.kr%2Flogin%3Flogout%3Dsuccess HTTP/1.1" 302
0|maxplatform-backend-8000  | 2025-08-11T15:49:54: 2025-08-11 15:49:54.317 [INFO] app.utils.auth:259 - Successfully authenticated user: 21a2aaa7-444a-4038-bda3-d8bf2c4ef162
0|maxplatform-backend-8000  | 2025-08-11T15:49:54: 2025-08-11 15:49:54.317 [INFO] uvicorn.access:496 - 192.168.9.87:0 - "GET /api/auth/me HTTP/1.1" 200
0|maxplatform-backend-8000  | 2025-08-11T15:49:54: 2025-08-11 15:49:54.344 [INFO] app.utils.auth:259 - Successfully authenticated user: 21a2aaa7-444a-4038-bda3-d8bf2c4ef162
0|maxplatform-backend-8000  | 2025-08-11T15:49:54: 2025-08-11 15:49:54.349 [INFO] uvicorn.access:496 - 192.168.9.87:0 - "GET /api/services/mother-page HTTP/1.1" 200
0|maxplatform-backend-8000  | 2025-08-11T15:49:58: 2025-08-11 15:49:58.109 [INFO] app.utils.auth:259 - Successfully authenticated user: 21a2aaa7-444a-4038-bda3-d8bf2c4ef162
0|maxplatform-backend-8000  | 2025-08-11T15:49:58: 2025-08-11 15:49:58.112 [INFO] app.routers.batch_logout:371 - User admin@test.com logged out all sessions
0|maxplatform-backend-8000  | 2025-08-11T15:49:58: 2025-08-11 15:49:58.112 [INFO] app.middleware.security:376 - AUDIT_LOG: {"timestamp": "2025-08-11T06:49:58.112717", "action_type": "user_session_logout", "user_id": "21a2aaa7-444a-4038-bda3-d8bf2c4ef162", "user_email": "admin@test.com", "success": true, "error_message": null, "execution_time": 0.002003, "request_data": {"request": {"logout_type": "all", "reason": "User requested all logout via simplified UI"}}}
0|maxplatform-backend-8000  | 2025-08-11T15:49:58: 2025-08-11 15:49:58.113 [INFO] uvicorn.access:496 - 192.168.9.87:0 - "POST /api/user/sessions/logout HTTP/1.1" 200
0|maxplatform-backend-8000  | 2025-08-11T15:49:58: 2025-08-11 15:49:58.192 [INFO] uvicorn.access:496 - 192.168.9.87:0 - "GET /api/oauth/userinfo HTTP/1.1" 200
0|maxplatform-backend-8000  | 2025-08-11T15:50:03: 2025-08-11 15:50:03.210 [INFO] uvicorn.access:496 - 192.168.9.87:0 - "GET /api/oauth/userinfo HTTP/1.1" 200
0|maxplatform-backend-8000  | 2025-08-11T15:50:03: 2025-08-11 15:50:03.644 [INFO] app.routers.auth:382 - 로그인 시도: krn@test.com
0|maxplatform-backend-8000  | 2025-08-11T15:50:03: 2025-08-11 15:50:03.858 [INFO] app.routers.auth:401 - 사용자 인증 성공: krn@test.com (ID: d65db892-9691-46e3-a2c6-d962980f2f51)
0|maxplatform-backend-8000  | 2025-08-11T15:50:03: 2025-08-11 15:50:03.861 [INFO] app.routers.auth:409 - 로그인 기록 업데이트 완료: krn@test.com
0|maxplatform-backend-8000  | 2025-08-11T15:50:03: 2025-08-11 15:50:03.862 [INFO] app.utils.auth:289 - Auth event: access_token_created | Data: {'event_type': 'access_token_created', 'user_id': 'd65db892-9691-46e3-a2c6-d962980f2f51', 'client_id': None, 'success': True, 'additional_data': {'token_type': 'access', 'expires_at': '2025-08-11T07:20:03.861845', 'jti': 'bfb72ce2-fa6e-4682-abc4-248f2a87b533'}}
0|maxplatform-backend-8000  | 2025-08-11T15:50:03: 2025-08-11 15:50:03.864 [INFO] app.core.redis_session:233 - ✅ Deleted 0 sessions for user d65db892-9691-46e3-a2c6-
0|maxplatform-backend-8000  | 2025-08-11T15:50:03: 2025-08-11 15:50:03.871 [WARNING] app.routers.auth:483 - Failed to store JWT token hash for revocation tracking: (psycopg2.errors.UndefinedColumn) column "grant_types" of relation "oauth_clients" does not exist
0|maxplatform-backend-8000  | 2025-08-11T15:50:03: LINE 3: ...        (client_id, client_secret, redirect_uris, grant_type...
0|maxplatform-backend-8000  | 2025-08-11T15:50:03:                                                              ^
0|maxplatform-backend-8000  | 2025-08-11T15:50:03:
0|maxplatform-backend-8000  | 2025-08-11T15:50:03: [SQL:
0|maxplatform-backend-8000  | 2025-08-11T15:50:03:                             INSERT INTO oauth_clients
0|maxplatform-backend-8000  | 2025-08-11T15:50:03:                             (client_id, client_secret, redirect_uris, grant_types,
0|maxplatform-backend-8000  | 2025-08-11T15:50:03:                              response_types, scope, is_active, is_confidential)
0|maxplatform-backend-8000  | 2025-08-11T15:50:03:                             VALUES (%(client_id)s, %(client_secret)s, %(redirect_uris)s, %(grant_types)s,
0|maxplatform-backend-8000  | 2025-08-11T15:50:03:                                     %(response_types)s, %(scope)s, true, false)
0|maxplatform-backend-8000  | 2025-08-11T15:50:03:                         ]
0|maxplatform-backend-8000  | 2025-08-11T15:50:03: [parameters: {'client_id': 'maxplatform-web', 'client_secret': 'not-used-f...', 'redirect_uris': 'https://max.dwchem.co.kr,https://maxlab.dwchem.co.kr', 'grant_types': 'password,refresh_token', 'response_types': 'token', 'scope': 'openid profile email'}]
0|maxplatform-backend-8000  | 2025-08-11T15:50:03: (Background on this error at: https://sqlalche.me/e/20/f405)



 🔄 Rehydrating auth state for initialization Object
 🆕 New or unauthenticated user, preparing for silent auth attempt
 🛡️ New CSRF token generated
 🛡️ CSRF protection initialized with new token
 🔀 OAuth Coordinator [07:38:35][Q:0|A:0]: 🏗️ OAuth Request Coordinator initialized
 ✅ Auth sync initialized with BroadcastChannel
 🔒 Initializing cross-domain logout listener
 📡 SSO: PostMessage listener registered
 🔄 Auth state change: idle → silent_auth Object
 🔇 Attempting silent SSO login...
 🔀 OAuth Coordinator [07:38:35][Q:0|A:0]: 📝 Queuing silent_login request: silent_login_1754897915454_vozlq1cfe Object
 ✅ Silent auth conditions met, starting...
 🔀 OAuth Coordinator [07:38:35][Q:1|A:0]: 🔄 Starting OAuth request queue processing
 🔀 OAuth Coordinator [07:38:35][Q:1|A:1]: 🚀 Processing silent_login request: silent_login_1754897915454_vozlq1cfe
 🔇 Starting silent authentication...
 🔄 Rehydrating auth state for initialization [object Object]
 🆕 New or unauthenticated user, preparing for silent auth attempt
 🛡️ CSRF protection initialized with existing token
 🔀 OAuth Coordinator [07:38:35][Q:0|A:0]: 🏗️ OAuth Request Coordinator initialized
 ✅ Auth sync initialized with BroadcastChannel
 🔒 Initializing cross-domain logout listener
 📡 SSO: PostMessage listener registered
 🔄 Auth state change: idle → silent_auth [object Object]
 🔇 Attempting silent SSO login...
 🔀 OAuth Coordinator [07:38:35][Q:0|A:0]: 📝 Queuing silent_login request: silent_login_1754897915529_8d6q250iy [object Object]
 🚫 Unsafe path for token refresh: /oauth/callback
 🚫 Silent auth not allowed on current page: /oauth/callback
 🔀 OAuth Coordinator [07:38:35][Q:1|A:0]: 🔄 Starting OAuth request queue processing
 🔀 OAuth Coordinator [07:38:35][Q:1|A:1]: 🚀 Processing silent_login request: silent_login_1754897915529_8d6q250iy
 🔀 OAuth Coordinator [07:38:35][Q:1|A:0]: ✅ silent_login request completed: silent_login_1754897915529_8d6q250iy
 ℹ️ Silent SSO login failed: Cannot attempt silent auth on current page
 🔄 Auth state change: silent_auth → ready [object Object]
 🚫 Unsafe path for token refresh: /oauth/callback
 🔍 Popup mode detection started: [object Object]
 🔍 Searching for OAuth flow state with state: mDZr5X_T...
 📋 Found total flow states: 0
 🔍 Flow state not found in getAllFlowStates, trying direct sessionStorage search...
  🚨 OAuth flow state not found for state: mDZr5X_T... [object Object]
getFlowState @ index-C6MwXdfO.js:228
 🎯 Popup mode detected via window.parent
 🛑 User not authenticated, stopping token refresh
 🔄 Migrating legacy OAuth state to new state manager
 🔐 OAuth flow state created: [object Object]
 ✅ Legacy OAuth state migrated: me6swpsf5xz8v06q1y
 🔄 Legacy OAuth state migrated: [object Object]
 🔍 Popup mode detection started: [object Object]
 🔍 Searching for OAuth flow state with state: mDZr5X_T...
 📋 Found total flow states: 1
 ✅ Found OAuth flow state: [object Object]
 🎯 Popup mode detected via window.parent
 🔍 OAuth Callback Mode Detection: [object Object]
 🔍 OAuth Callback URL Analysis: [object Object]
  🚨 OAuth Server Error: [object Object]
(anonymous) @ index-C6MwXdfO.js:755
  🚨 No access token found - session expired
(anonymous) @ index-C6MwXdfO.js:851
  🔒 Executing cross-domain logout cleanup
handleLogout @ index-C6MwXdfO.js:851
 🚨 Cross-domain logout detected - clearing session
 🔄 Cross-domain logout detected on public page, staying on current page
  🚨 Cross-domain logout broadcast received
n.onmessage @ index-C6MwXdfO.js:851
  🔒 Executing cross-domain logout cleanup
handleLogout @ index-C6MwXdfO.js:851
  🚨 Cross-domain logout broadcast received
n.onmessage @ index-C6MwXdfO.js:851
  🔒 Executing cross-domain logout cleanup
handleLogout @ index-C6MwXdfO.js:851
 🚨 Cross-domain logout detected - clearing session
  🚨 Cross-domain logout broadcast received
n.onmessage @ index-C6MwXdfO.js:851
  🔒 Executing cross-domain logout cleanup
handleLogout @ index-C6MwXdfO.js:851
  🚨 Cross-domain logout broadcast received
n.onmessage @ index-C6MwXdfO.js:851
  🔒 Executing cross-domain logout cleanup
handleLogout @ index-C6MwXdfO.js:851
  🚨 Logout detected from another tab
(anonymous) @ index-C6MwXdfO.js:851
  🔒 Executing cross-domain logout cleanup
handleLogout @ index-C6MwXdfO.js:851
 🍪 OAuth provider cookies cleared
 🍪 OAuth provider cookies cleared
 🧹 Refresh token cleared from secure storage
 🧹 Refresh token cleared from secure storage
 🧹 Clearing all user tokens...
 🧹 Refresh token cleared from secure storage
 ✅ Cleared tokens for 0 users
 🔐 User-isolated tokens cleared
 🧹 All tokens cleared
 🔒 Starting comprehensive security cleanup...
 🧹 Refresh token cleared from secure storage
 🧹 Refresh token cleared from secure storage
 🧹 Clearing all user tokens...
 🧹 Refresh token cleared from secure storage
 ✅ Cleared tokens for 0 users
 🔐 User-isolated tokens cleared
 🧹 All tokens cleared
 🧹 Clearing all user tokens...
 🧹 Refresh token cleared from secure storage
 ✅ Cleared tokens for 0 users
 🔒 Starting comprehensive browser security cleanup...
 ✅ Cleared 1 localStorage items
 ✅ Cleared 1 sessionStorage items
 ✅ Cleared 0 cookies
 🍪 OAuth provider cookies cleared
 🍪 OAuth provider cookies cleared
 🧹 Refresh token cleared from secure storage
 🧹 Refresh token cleared from secure storage
 🧹 Clearing all user tokens...
 🧹 Refresh token cleared from secure storage
 ✅ Cleared tokens for 0 users
 🔐 User-isolated tokens cleared
 🧹 All tokens cleared
 🔒 Starting comprehensive security cleanup...
 🧹 Refresh token cleared from secure storage
 🧹 Refresh token cleared from secure storage
 🧹 Clearing all user tokens...
 🧹 Refresh token cleared from secure storage
 ✅ Cleared tokens for 0 users
 🔐 User-isolated tokens cleared
 🧹 All tokens cleared
 🧹 Clearing all user tokens...
 🧹 Refresh token cleared from secure storage
 ✅ Cleared tokens for 0 users
 🔒 Starting comprehensive browser security cleanup...
 ✅ Cleared 0 localStorage items
 ✅ Cleared 0 sessionStorage items
 ✅ Cleared 0 cookies
 ✅ Cleared 0 IndexedDB databases
 ✅ Cleared 0 cache storages
 🔒 Security cleanup completed in 19.30ms
 ✅ Security cleanup completed: Object
 🧹 Complete secure cleanup finished
 🔄 MaxLab manual reset initiated
 ✅ OAuth loop prevention state reset
 ✅ User logged out successfully
 ✅ Cleared 0 IndexedDB databases
 ✅ Cleared 0 cache storages
 🔒 Security cleanup completed in 38.90ms
 ✅ Security cleanup completed: [object Object]
 🧹 Complete secure cleanup finished
 🔄 MaxLab manual reset initiated
 ✅ OAuth loop prevention state reset
 ✅ User logged out successfully
  🚨 No access token found - session expired
(anonymous) @ index-C6MwXdfO.js:851
  🔒 Executing cross-domain logout cleanup
handleLogout @ index-C6MwXdfO.js:851
 🔄 Rehydrating auth state for initialization [object Object]
 🆕 New or unauthenticated user, preparing for silent auth attempt
 🛡️ New CSRF token generated
 🛡️ CSRF protection initialized with new token
 🔀 OAuth Coordinator [07:38:40][Q:0|A:0]: 🏗️ OAuth Request Coordinator initialized
 ✅ Auth sync initialized with BroadcastChannel
 🔒 Initializing cross-domain logout listener
 📡 SSO: PostMessage listener registered
 🔄 Auth state change: idle → silent_auth [object Object]
 🔇 Attempting silent SSO login...
 🔀 OAuth Coordinator [07:38:40][Q:0|A:0]: 📝 Queuing silent_login request: silent_login_1754897920618_02889m0o5 [object Object]
 🚫 Unsafe path for token refresh: /login
 🚫 Silent auth not allowed on current page: /login
 🔀 OAuth Coordinator [07:38:40][Q:1|A:0]: 🔄 Starting OAuth request queue processing
 🔀 OAuth Coordinator [07:38:40][Q:1|A:1]: 🚀 Processing silent_login request: silent_login_1754897920618_02889m0o5
 🔀 OAuth Coordinator [07:38:40][Q:1|A:0]: ✅ silent_login request completed: silent_login_1754897920618_02889m0o5
 ℹ️ Silent SSO login failed: Cannot attempt silent auth on current page
 🔄 Auth state change: silent_auth → ready [object Object]
 🚫 Unsafe path for token refresh: /login
 🔥 Login component render - current state: [object Object]
 🛑 User not authenticated, stopping token refresh
 🔥 Component mounted, current oauthLoading: false
 🔥 Login component render - current state: [object Object]
 🔄 Logout detected, resetting login component state
 🔥 Login component render - current state: [object Object]
 🔇 Attempting silent SSO login...
 🔀 OAuth Coordinator [07:38:40][Q:0|A:0]: 📝 Queuing silent_login request: silent_login_1754897920724_zklqlrvyx [object Object]
 🚫 Unsafe path for token refresh: /login
 🚫 Silent auth not allowed on current page: /login
 🔀 OAuth Coordinator [07:38:40][Q:1|A:0]: 🔄 Starting OAuth request queue processing
 🔀 OAuth Coordinator [07:38:40][Q:1|A:1]: 🚀 Processing silent_login request: silent_login_1754897920724_zklqlrvyx
 🔀 OAuth Coordinator [07:38:40][Q:1|A:0]: ✅ silent_login request completed: silent_login_1754897920724_zklqlrvyx
 ℹ️ Silent SSO login failed: Cannot attempt silent auth on current page
 🔥 Login component render - current state: [object Object]
  🚨 No access token found - session expired
(anonymous) @ index-C6MwXdfO.js:851
  🔒 Executing cross-domain logout cleanup
handleLogout @ index-C6MwXdfO.js:851
 🚨 Cross-domain logout detected - clearing session
 🔄 Cross-domain logout detected on public page, staying on current page
  🚨 Cross-domain logout broadcast received
n.onmessage @ index-C6MwXdfO.js:851
  🔒 Executing cross-domain logout cleanup
handleLogout @ index-C6MwXdfO.js:851
  🚨 Cross-domain logout broadcast received
n.onmessage @ index-C6MwXdfO.js:851
  🔒 Executing cross-domain logout cleanup
handleLogout @ index-C6MwXdfO.js:851
 🚨 Cross-domain logout detected - clearing session
 🍪 OAuth provider cookies cleared
 🍪 OAuth provider cookies cleared
 🧹 Refresh token cleared from secure storage
 🧹 Refresh token cleared from secure storage
 🧹 Clearing all user tokens...
 🧹 Refresh token cleared from secure storage
 ✅ Cleared tokens for 0 users
 🔐 User-isolated tokens cleared
 🧹 All tokens cleared
 🔒 Starting comprehensive security cleanup...
 🧹 Refresh token cleared from secure storage
 🧹 Refresh token cleared from secure storage
 🧹 Clearing all user tokens...
 🧹 Refresh token cleared from secure storage
 ✅ Cleared tokens for 0 users
 🔐 User-isolated tokens cleared
 🧹 All tokens cleared
 🧹 Clearing all user tokens...
 🧹 Refresh token cleared from secure storage
 ✅ Cleared tokens for 0 users
 🔒 Starting comprehensive browser security cleanup...
 ✅ Cleared 1 localStorage items
 ✅ Cleared 1 sessionStorage items
 ✅ Cleared 0 cookies
 🔇 Silent auth timeout
 🔀 OAuth Coordinator [07:38:45][Q:1|A:0]: ✅ silent_login request completed: silent_login_1754897915454_vozlq1cfe
 🚫 Silent auth request aborted by coordinator
 ℹ️ Silent SSO login failed: silent_auth_timeout
  ❌ Auth error: silent_auth_timeout - Automatic login timed out
setAuthError @ index-C6MwXdfO.js:228
 🔄 Auth state change: error → ready Object
 🛑 User not authenticated, stopping token refresh
  🚨 Cross-domain logout broadcast received
n.onmessage @ index-C6MwXdfO.js:851
  🔒 Executing cross-domain logout cleanup
handleLogout @ index-C6MwXdfO.js:851
  🚨 Logout detected from another tab
(anonymous) @ index-C6MwXdfO.js:851
  🔒 Executing cross-domain logout cleanup
handleLogout @ index-C6MwXdfO.js:851
 ✅ Cleared 0 IndexedDB databases
 ✅ Cleared 0 cache storages
 🔒 Security cleanup completed in 26.90ms
 ✅ Security cleanup completed: Object
 🧹 Complete secure cleanup finished
 🔄 MaxLab manual reset initiated
 ✅ OAuth loop prevention state reset
 ✅ User logged out successfully
  🚨 No token on focus - logout detected
(anonymous) @ index-C6MwXdfO.js:851
  🔒 Executing cross-domain logout cleanup
handleLogout @ index-C6MwXdfO.js:851
 🚨 Cross-domain logout detected - clearing session
 🔄 Cross-domain logout detected on public page, staying on current page
  🚨 Cross-domain logout broadcast received
n.onmessage @ index-C6MwXdfO.js:851
  🔒 Executing cross-domain logout cleanup
handleLogout @ index-C6MwXdfO.js:851
 🍪 OAuth provider cookies cleared
 🍪 OAuth provider cookies cleared
 🧹 Refresh token cleared from secure storage
 🧹 Refresh token cleared from secure storage
 🧹 Clearing all user tokens...
 🧹 Refresh token cleared from secure storage
 ✅ Cleared tokens for 0 users
 🔐 User-isolated tokens cleared
 🧹 All tokens cleared
 🔒 Starting comprehensive security cleanup...
 🧹 Refresh token cleared from secure storage
 🧹 Refresh token cleared from secure storage
 🧹 Clearing all user tokens...
 🧹 Refresh token cleared from secure storage
 ✅ Cleared tokens for 0 users
 🔐 User-isolated tokens cleared
 🧹 All tokens cleared
 🧹 Clearing all user tokens...
 🧹 Refresh token cleared from secure storage
 ✅ Cleared tokens for 0 users
 🔒 Starting comprehensive browser security cleanup...
 ✅ Cleared 1 localStorage items
 ✅ Cleared 1 sessionStorage items
 ✅ Cleared 0 cookies
 ✅ Cleared 0 IndexedDB databases
 ✅ Cleared 0 cache storages
 🔒 Security cleanup completed in 20.60ms
 ✅ Security cleanup completed: Object
 🧹 Complete secure cleanup finished
 🔄 MaxLab manual reset initiated
 ✅ OAuth loop prevention state reset
 ✅ User logged out successfully
[NEW] Explain Console errors by using Copilot in Edge: click

         to explain an error.
        Learn more
        Don't show again
  🚨 No access token found - session expired
(anonymous) @ index-C6MwXdfO.js:851
  🔒 Executing cross-domain logout cleanup
handleLogout @ index-C6MwXdfO.js:851
(anonymous) @ index-C6MwXdfO.js:851
  🚫 Circuit breaker: Too many logout attempts, stopping
handleLogout @ index-C6MwXdfO.js:851
(anonymous) @ index-C6MwXdfO.js:851
  🚨 No access token found - session expired
(anonymous) @ index-C6MwXdfO.js:851
  🔒 Executing cross-domain logout cleanup
handleLogout @ index-C6MwXdfO.js:851
(anonymous) @ index-C6MwXdfO.js:851
  🚫 Circuit breaker: Too many logout attempts, stopping
handleLogout @ index-C6MwXdfO.js:851
(anonymous) @ index-C6MwXdfO.js:851
  🚨 No access token found - session expired
(anonymous) @ index-C6MwXdfO.js:851
  🔒 Executing cross-domain logout cleanup
handleLogout @ index-C6MwXdfO.js:851
(anonymous) @ index-C6MwXdfO.js:851
  🚫 Circuit breaker: Too many logout attempts, stopping
handleLogout @ index-C6MwXdfO.js:851z
(anonymous) @ index-C6MwXdfO.js:851



0|maxplatf | 2025-08-11T17:09:42: 2025-08-11 17:09:42.432 [DEBUG] app.services.session_monitor:116 - Starting session consistency check
0|maxplatf | 2025-08-11T17:09:42: 2025-08-11 17:09:42.433 [DEBUG] app.services.session_monitor:177 - Session check completed: 7 sessions checked (took 0.00s)
0|maxplatf | 2025-08-11T17:10:21: 2025-08-11 17:10:21.415 [DEBUG] app.middleware.session_middleware:117 - JWT token expired
0|maxplatf | 2025-08-11T17:10:21: 2025-08-11 17:10:21.416 [WARNING] app.utils.auth:224 - JWT verification failed: Signature has expired.
0|maxplatf | 2025-08-11T17:10:21: 2025-08-11 17:10:21.416 [INFO] uvicorn.access:496 - 192.168.9.87:0 - "GET /api/auth/me HTTP/1.1" 401
0|maxplatf | 2025-08-11T17:10:21: 2025-08-11 17:10:21.433 [DEBUG] app.middleware.session_middleware:117 - JWT token expired
0|maxplatf | 2025-08-11T17:10:21: 2025-08-11 17:10:21.436 [INFO] uvicorn.access:496 - 192.168.9.87:0 - "POST /api/auth/refresh HTTP/1.1" 401
0|maxplatf | 2025-08-11T17:10:26: 2025-08-11 17:10:26.913 [DEBUG] app.middleware.session_middleware:117 - JWT token expired
0|maxplatf | 2025-08-11T17:10:26: 2025-08-11 17:10:26.914 [WARNING] app.utils.auth:224 - JWT verification failed: Signature has expired.
0|maxplatf | 2025-08-11T17:10:26: 2025-08-11 17:10:26.914 [INFO] uvicorn.access:496 - 192.168.9.87:0 - "GET /api/auth/me HTTP/1.1" 401
0|maxplatf | 2025-08-11T17:10:26: 2025-08-11 17:10:26.938 [DEBUG] app.middleware.session_middleware:117 - JWT token expired
0|maxplatf | 2025-08-11T17:10:26: 2025-08-11 17:10:26.940 [INFO] uvicorn.access:496 - 192.168.9.87:0 - "POST /api/auth/refresh HTTP/1.1" 401
