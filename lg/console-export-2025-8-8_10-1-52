10:01:43.141 üî• handleOAuthLogin called with forceAccountSelection: false index-BN7X_6wa.js:753:6765
10:01:43.142 üî• Current oauthLoading state: false index-BN7X_6wa.js:753:6837
10:01:43.142 üî• Current isAuthenticated state: false index-BN7X_6wa.js:753:6885
10:01:43.142 üî• Setting oauthLoading to true index-BN7X_6wa.js:753:7091
10:01:43.142 üöÄ About to call loginWithPopupOAuth with forceAccountSelection: false index-BN7X_6wa.js:753:10735
10:01:43.142 üìä Current state: 
Object { isAuthenticated: false, oauthLoading: false, hasAccessToken: false, hasUser: false, forceAccountSelectionFlag: null }
index-BN7X_6wa.js:753:10817
10:01:43.142 üî• About to call authService.loginWithPopupOAuth index-BN7X_6wa.js:753:11275
10:01:43.142 üî• authService object: 
Object { loginWithPopupOAuth: async loginWithPopupOAuth(e), attemptSilentLogin: async attemptSilentLogin(), getCurrentUser: async getCurrentUser(), validateToken: async validateToken(), logout: async logout(e), _secureCleanup: async _secureCleanup(), isAuthenticated: isAuthenticated(), getStoredUser: getStoredUser(), redirectToSignup: redirectToSignup(), refreshToken: async refreshToken(e), ‚Ä¶ }
index-BN7X_6wa.js:753:11339
10:01:43.143 üî• forceAccountSelection: false index-BN7X_6wa.js:753:11380
10:01:43.143 üîê OAuth Configuration: 
Object { clientId: "maxlab", redirectUri: "https://maxlab.dwchem.co.kr/oauth/callback", authUrl: "https://max.dwchem.co.kr", runtimeConfig: "Not available", envAuthUrl: "https://max.dwchem.co.kr", currentOrigin: "https://maxlab.dwchem.co.kr" }
index-BN7X_6wa.js:228:20734
10:01:43.143 üîê Starting popup OAuth login (force account selection: false)... index-BN7X_6wa.js:263:86404
10:01:43.144 üî• Login component render - current state: 
Object { isAuthenticated: false, oauthLoading: true, silentLoginAttempting: false, hasLoggedOutRef: true, authAttemptRef: false }
index-BN7X_6wa.js:753:4401
10:01:43.156 üîê OAuth flow state created: 
Object { flowId: "me24es1hhc4woefgqnq", flowType: "popup", expiresIn: "900s", forceAccountSelection: false }
index-BN7X_6wa.js:228:12027
10:01:43.156 üîÑ OAuth flow status updated: 
Object { flowId: "me24es1hhc4woefgqnq", status: "in_progress", flowType: "popup" }
index-BN7X_6wa.js:228:14627
10:01:43.157 üîê OAuth Flow State Created: 
Object { flowId: "me24es1hhc4woefgqnq", flowType: "popup", state: "hqKFEQWy...", codeVerifier: "iC1vF5vW...", nonce: "fhY_G2z4...", forceAccountSelection: false, expiresAt: "2025-08-08T01:16:43.157Z", timestamp: "2025-08-08T01:01:43.157Z" }
index-BN7X_6wa.js:228:23061
10:01:43.157 üîê Opening OAuth popup: https://max.dwchem.co.kr/api/oauth/authorize?response_type=code&client_id=maxlab&redirect_uri=https%3A%2F%2Fmaxlab.dwchem.co.kr%2Foauth%2Fcallback&scope=openid+profile+email+offline_access+read%3Aprofile+read%3Agroups+manage%3Aworkflows&state=hqKFEQWyBx45xqwzc7qadQz3v2z9dzpEaojLCYaMrSk&code_challenge=2jYXvKE2EtN6hmYaTMmCrJEpmnEVOB_m7JdN3C9UCno&code_challenge_method=S256&nonce=fhY_G2z4SRx0on72CbF_XLAmJKzKvhbbmyXd0XPdMnU index-BN7X_6wa.js:228:24360
10:01:43.157 üìã Full OAuth URL params: response_type=code&client_id=maxlab&redirect_uri=https%3A%2F%2Fmaxlab.dwchem.co.kr%2Foauth%2Fcallback&scope=openid+profile+email+offline_access+read%3Aprofile+read%3Agroups+manage%3Aworkflows&state=hqKFEQWyBx45xqwzc7qadQz3v2z9dzpEaojLCYaMrSk&code_challenge=2jYXvKE2EtN6hmYaTMmCrJEpmnEVOB_m7JdN3C9UCno&code_challenge_method=S256&nonce=fhY_G2z4SRx0on72CbF_XLAmJKzKvhbbmyXd0XPdMnU index-BN7X_6wa.js:228:24401
10:01:43.157 üì° Setting up message listeners before popup... index-BN7X_6wa.js:228:24455
10:01:43.283 ‚úÖ OAuth popup opened successfully index-BN7X_6wa.js:233:153
10:01:46.284 üö® Cross-origin access blocked - possible port mismatch after 3+ seconds warn index-BN7X_6wa.js:233:977
10:01:46.878 üì® Parent window received message: 
Object { type: "OAUTH_SUCCESS", token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyMWEyYWFhNy00NDRhLTQwMzgtYmRhMy1kOGJmMmM0ZWYxNjIiLCJlbWFpbCI6ImFkbWluQHRlc3QuY29tIiwiaXNfYWRtaW4iOnRydWUsInVzZXJfaWQiOiIyMWEyYWFhNy00NDRhLTQwMzgtYmRhMy1kOGJmMmM0ZWYxNjIiLCJncm91cF9pZCI6IjkzMmQ2NTdlLTU1ZGYtNDlkNy05Y2M1LWQ4NmU3NjIzZGY4ZSIsImdyb3VwX25hbWUiOiJcdWFjMWNcdWJjMWNcdWQzMDAiLCJyb2xlX2lkIjoiMSIsInJvbGVfbmFtZSI6ImFkbWluIiwiZXhwIjoxNzU0NjE2NzA2LCJ0eXBlIjoiYWNjZXNzIiwiaWF0IjoxNzU0NjE0OTA2LCJqdGkiOiIwNTY1ZmVhNi1jNTIyLTRjNmQtYjc3NS1kYTY4NGI2M2QwMjUiLCJuYmYiOjE3NTQ2MTQ5MDYsImlzcyI6Im1heHBsYXRmb3JtIiwibm9uY2UiOiIxMzZlOTZjMjgwYjE0MjI5In0.25SSEwhRq64000onvXFGq1t_h-YMp4aN5dl8lDjHk-s", tokenData: {‚Ä¶} }
index-BN7X_6wa.js:228:24551
10:01:46.878 üì® OAuth message validation: 
Object { origin: "https://maxlab.dwchem.co.kr", messageType: "OAUTH_SUCCESS", validationResult: {‚Ä¶}, trustedOrigins: "https://maxlab.dwchem.co.kr,https://max.dwchem.co.kr,https://maxlab.io..." }
index-BN7X_6wa.js:233:4457
10:01:46.878 üì® Received OAuth message: 
Object { type: "OAUTH_SUCCESS", token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyMWEyYWFhNy00NDRhLTQwMzgtYmRhMy1kOGJmMmM0ZWYxNjIiLCJlbWFpbCI6ImFkbWluQHRlc3QuY29tIiwiaXNfYWRtaW4iOnRydWUsInVzZXJfaWQiOiIyMWEyYWFhNy00NDRhLTQwMzgtYmRhMy1kOGJmMmM0ZWYxNjIiLCJncm91cF9pZCI6IjkzMmQ2NTdlLTU1ZGYtNDlkNy05Y2M1LWQ4NmU3NjIzZGY4ZSIsImdyb3VwX25hbWUiOiJcdWFjMWNcdWJjMWNcdWQzMDAiLCJyb2xlX2lkIjoiMSIsInJvbGVfbmFtZSI6ImFkbWluIiwiZXhwIjoxNzU0NjE2NzA2LCJ0eXBlIjoiYWNjZXNzIiwiaWF0IjoxNzU0NjE0OTA2LCJqdGkiOiIwNTY1ZmVhNi1jNTIyLTRjNmQtYjc3NS1kYTY4NGI2M2QwMjUiLCJuYmYiOjE3NTQ2MTQ5MDYsImlzcyI6Im1heHBsYXRmb3JtIiwibm9uY2UiOiIxMzZlOTZjMjgwYjE0MjI5In0.25SSEwhRq64000onvXFGq1t_h-YMp4aN5dl8lDjHk-s", tokenData: {‚Ä¶} }
index-BN7X_6wa.js:233:5658
10:01:46.878 Message origin: https://maxlab.dwchem.co.kr index-BN7X_6wa.js:233:5707
10:01:46.878 Message type: OAUTH_SUCCESS index-BN7X_6wa.js:233:5747
10:01:46.878 ‚úÖ OAUTH_SUCCESS message received, processing... index-BN7X_6wa.js:233:8772
10:01:46.878 üì§ Sending acknowledgment to popup... index-BN7X_6wa.js:233:8889
10:01:46.878 ‚úÖ Acknowledgment sent to popup index-BN7X_6wa.js:233:9014
10:01:46.879 üîç Searching for OAuth flow state with state: hqKFEQWy... index-BN7X_6wa.js:228:12200
10:01:46.879 üìã Found total flow states: 4 index-BN7X_6wa.js:228:12317
10:01:46.879 ‚úÖ Found OAuth flow state: 
Object { flowId: "me24es1hhc4woefgqnq", flowType: "popup", status: "in_progress", hasCodeVerifier: true, codeVerifierLength: 43 }
index-BN7X_6wa.js:228:13854
10:01:46.879 üîÑ OAuth flow status updated: 
Object { flowId: "me24es1hhc4woefgqnq", status: "completed", flowType: "popup" }
index-BN7X_6wa.js:228:14627
10:01:46.879 üîÑ OAuth flow state updated to: 
Object { flowId: "me24es1hhc4woefgqnq", status: "completed", messageReceived: true }
index-BN7X_6wa.js:258:786
10:01:46.879 ‚ö†Ô∏è Preserving oauth_force_account_selection due to no success result index-BN7X_6wa.js:258:1552
10:01:46.879 üßπ Cleanup completed index-BN7X_6wa.js:233:9223
10:01:46.879 üì¶ Resolving with full token data index-BN7X_6wa.js:233:9272
10:01:46.879 ‚úÖ Popup OAuth successful, getting user info... index-BN7X_6wa.js:263:87550
10:01:46.879 üîÑ Calling OAuth userinfo endpoint: https://max.dwchem.co.kr/api/oauth/userinfo index-BN7X_6wa.js:258:12588
10:01:46.881 üì° Parent received OAuth message via BroadcastChannel: 
Object { type: "OAUTH_SUCCESS", token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyMWEyYWFhNy00NDRhLTQwMzgtYmRhMy1kOGJmMmM0ZWYxNjIiLCJlbWFpbCI6ImFkbWluQHRlc3QuY29tIiwiaXNfYWRtaW4iOnRydWUsInVzZXJfaWQiOiIyMWEyYWFhNy00NDRhLTQwMzgtYmRhMy1kOGJmMmM0ZWYxNjIiLCJncm91cF9pZCI6IjkzMmQ2NTdlLTU1ZGYtNDlkNy05Y2M1LWQ4NmU3NjIzZGY4ZSIsImdyb3VwX25hbWUiOiJcdWFjMWNcdWJjMWNcdWQzMDAiLCJyb2xlX2lkIjoiMSIsInJvbGVfbmFtZSI6ImFkbWluIiwiZXhwIjoxNzU0NjE2NzA2LCJ0eXBlIjoiYWNjZXNzIiwiaWF0IjoxNzU0NjE0OTA2LCJqdGkiOiIwNTY1ZmVhNi1jNTIyLTRjNmQtYjc3NS1kYTY4NGI2M2QwMjUiLCJuYmYiOjE3NTQ2MTQ5MDYsImlzcyI6Im1heHBsYXRmb3JtIiwibm9uY2UiOiIxMzZlOTZjMjgwYjE0MjI5In0.25SSEwhRq64000onvXFGq1t_h-YMp4aN5dl8lDjHk-s", tokenData: {‚Ä¶} }
index-BN7X_6wa.js:228:24810
10:01:46.881 ‚úÖ OAuth success via BroadcastChannel index-BN7X_6wa.js:246:117
10:01:46.881 üì§ Sending acknowledgment via BroadcastChannel... index-BN7X_6wa.js:246:199
10:01:46.881 ‚úÖ Acknowledgment sent via BroadcastChannel index-BN7X_6wa.js:246:298
10:01:46.881 ‚ö†Ô∏è Preserving oauth_force_account_selection due to no success result index-BN7X_6wa.js:258:1552
10:01:46.910 XHRGET
https://max.dwchem.co.kr/api/oauth/userinfo
[HTTP/2 200  9ms]

10:01:46.925 üîê Storing refresh token securely... index-BN7X_6wa.js:263:50609
10:01:46.925 üîê Attempting to encrypt and store token (attempt 1/3)... index-BN7X_6wa.js:263:26421
10:01:47.009 ‚úÖ Token encrypted and stored successfully index-BN7X_6wa.js:263:26646
10:01:47.011 üîì Token decrypted successfully index-BN7X_6wa.js:263:27509
10:01:47.011 üîí Security event logged: encryption_token_encrypted_stored (low) 
Object { eventId: "evt_1754614907011_xpopiik8", timestamp: "2025-08-08T01:01:47.012Z", eventType: "encryption_token_encrypted_stored", severity: "low", source: "frontend", userId: undefined, sessionId: "sess_1754614889684_m748ez868he", details: {‚Ä¶}, context: {‚Ä¶}, metadata: undefined }
index-BN7X_6wa.js:263:39632
10:01:47.012 ‚úÖ Refresh token encrypted, stored, and verified securely index-BN7X_6wa.js:263:50947
10:01:47.012 üíæ Tokens stored successfully (including refresh token) index-BN7X_6wa.js:263:49558
10:01:47.012 üîê Saving tokens for user: 21a2aaa7-444a-4038-bda3-d8bf2c4ef162 index-BN7X_6wa.js:263:29977
10:01:47.012 üßπ Clearing tokens for all users except: 21a2aaa7-444a-4038-bda3-d8bf2c4ef162 index-BN7X_6wa.js:263:31806
10:01:47.012 ‚úÖ Cleared tokens for 0 other users index-BN7X_6wa.js:263:31969
10:01:47.012 üîê Attempting to encrypt and store token (attempt 1/3)... index-BN7X_6wa.js:263:26421
10:01:47.094 ‚úÖ Token encrypted and stored successfully index-BN7X_6wa.js:263:26646
10:01:47.094 ‚úÖ Tokens saved successfully for user: 21a2aaa7-444a-4038-bda3-d8bf2c4ef162 index-BN7X_6wa.js:263:30547
10:01:47.094 üìã User info received: 
Object { sub: "21a2aaa7-444a-4038-bda3-d8bf2c4ef162", email: "admin@test.com", name: "admin", groups: (1) [‚Ä¶], is_admin: true, group_id: "932d657e-55df-49d7-9cc5-d86e7623df8e", group_name: "Í∞úÎ∞úÌåÄ", role_id: "1", role_name: "admin" }
index-BN7X_6wa.js:263:88319
10:01:47.094 üì§ Broadcasting auth event: LOGIN index-BN7X_6wa.js:263:85286
10:01:47.094 üë§ Mapped user: 
Object { id: "21a2aaa7-444a-4038-bda3-d8bf2c4ef162", email: "admin@test.com", username: "admin", full_name: "admin", is_active: true, is_admin: true, role: "admin", groups: (1) [‚Ä¶] }
index-BN7X_6wa.js:263:88988
10:01:47.094 üîì Cleared logout flags after successful login index-BN7X_6wa.js:263:89259
10:01:47.095 ‚ö†Ô∏è Preserving oauth_force_account_selection due to no success result index-BN7X_6wa.js:258:1552
10:01:47.095 üî• authService.loginWithPopupOAuth completed successfully index-BN7X_6wa.js:753:11458
10:01:47.095 üî• user result: 
Object { id: "21a2aaa7-444a-4038-bda3-d8bf2c4ef162", email: "admin@test.com", username: "admin", full_name: "admin", is_active: true, is_admin: true, role: "admin", groups: (1) [‚Ä¶] }
index-BN7X_6wa.js:753:11531
10:01:47.095 ‚úÖ User authenticated successfully index-BN7X_6wa.js:228:651
10:01:47.095 üî• Finally block executed index-BN7X_6wa.js:769:388
10:01:47.095 üî• mountedRef.current: true index-BN7X_6wa.js:769:429
10:01:47.095 üî• About to set oauthLoading to false index-BN7X_6wa.js:769:477
10:01:47.096 üî• oauthLoading set to false index-BN7X_6wa.js:769:536
10:01:47.097 üî• Login component render - current state: 
Object { isAuthenticated: true, oauthLoading: false, silentLoginAttempting: false, hasLoggedOutRef: true, authAttemptRef: false }
index-BN7X_6wa.js:753:4401
10:01:47.102 üîê Page not safe for token refresh, disabling auto refresh: /login index-BN7X_6wa.js:263:103176
10:01:47.109 üîç Found refresh token metadata, will verify encrypted token exists index-BN7X_6wa.js:263:52244
10:01:47.109 üîç Verifying token consistency... index-BN7X_6wa.js:263:56960
10:01:47.110 üì° API: Getting workspace tree, parentId: undefined index-BN7X_6wa.js:791:27426
10:01:47.113 üîì Token decrypted successfully index-BN7X_6wa.js:263:27509
10:01:47.113 üîì Retrieved encrypted refresh token index-BN7X_6wa.js:263:50110
10:01:47.113 ‚úÖ Token consistency verified - metadata and token both exist index-BN7X_6wa.js:263:57531
10:01:47.115 XHRGET
https://maxlab.dwchem.co.kr/api/api/v1/workspaces/tree
[HTTP/2 404  6ms]

10:01:47.128 üì° API: Workspace tree error: 
Object { status: 404, statusText: "", data: {‚Ä¶}, message: "Request failed with status code 404", config: {‚Ä¶} }
index-BN7X_6wa.js:791:27653
10:01:48.129 üì° API: Getting workspace tree, parentId: undefined index-BN7X_6wa.js:791:27426
10:01:48.132 XHRGET
https://maxlab.dwchem.co.kr/api/api/v1/workspaces/tree
[HTTP/2 404  1ms]

10:01:48.136 üì° API: Workspace tree error: 
Object { status: 404, statusText: "", data: {‚Ä¶}, message: "Request failed with status code 404", config: {‚Ä¶} }
index-BN7X_6wa.js:791:27653
10:01:48.136 üö® Workspace query error: 
Object { message: "Request failed with status code 404", name: "AxiosError", code: "ERR_BAD_REQUEST", config: {‚Ä¶}, request: XMLHttpRequest, response: {‚Ä¶}, status: 404, stack: "", ‚Ä¶ }
index-BN7X_6wa.js:791:28584
