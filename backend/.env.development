# MaxLab 개발 환경 설정
# 개발 환경에서 사용할 기본 설정

# 환경 설정
ENVIRONMENT=development

# 애플리케이션 도메인
APP_DOMAIN=devmaxlab.chem.co.kr
APP_URL=https://devmaxlab.chem.co.kr

# 데이터베이스 설정
DATABASE_URL=postgresql+asyncpg://postgres:2300@172.28.32.1:5432/max_lab

# SSL 설정 (환경 기본값 사용, 개발 환경에서는 자동으로 disable)
DB_SSL_MODE=disable

# 보안 키 (개발용) - 실제 사용 시 변경 필요
SECRET_KEY=max-lab-dev-secret-key-change-this
JWT_SECRET_KEY=max-lab-dev-jwt-secret-key-change-this
CSRF_SECRET_KEY=max-lab-dev-csrf-secret-key-change-this
SESSION_SECRET_KEY=max-lab-dev-session-secret-key-change-this

# 암호화 키 (개발용)
ENCRYPTION_KEY=TH6_-mkyZxAEHQOKH1qYY-zQjr4f0H5bPmTC5_2u0qc=

# 외부 인증 서버
AUTH_SERVER_URL=http://localhost:8000
AUTH_SERVER_TIMEOUT=10.0

# 서버 설정
HOST=0.0.0.0
PORT=8010

# CORS 설정 (개발 환경 - 더 관대한 설정)
CORS_ALLOW_ORIGINS=https://devmaxlab.chem.co.kr,http://localhost:3000,http://localhost:3007,http://localhost:3008,http://localhost:3010,http://localhost:5173,http://localhost:8000,http://localhost:8010
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=3600

# 로깅 설정 (개발 환경)
LOG_LEVEL=DEBUG
LOG_FORMAT=console
LOG_FILE=/var/log/maxlab/backend-development.log

# Redis 설정 (개발 환경)
REDIS_URL=redis://localhost:6379/1

# WebSocket Configuration
ENABLE_WEBSOCKET=true
WEBSOCKET_TOKEN=dev-ws-token

# MSSQL Configuration (for data providers)
MSSQL_CONNECTION_STRING=DRIVER={ODBC Driver 17 for SQL Server};SERVER=localhost\\SQLEXPRESS;DATABASE=equipment_db;UID=mss;PWD=2300;TrustServerCertificate=yes;Connection Timeout=30;Command Timeout=60

# Rate Limiting (개발 환경에서는 더 관대하게)
RATE_LIMITING_ENABLED=true
RATE_LIMITING_FAIL_OPEN=true
RATE_LIMITING_HEADERS_ENABLED=true

# Session Configuration (개발 환경)
SESSION_COOKIE_SECURE=true  # HTTPS 사용
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax
SESSION_LIFETIME_SECONDS=7200  # 2 hours
SESSION_REMEMBER_ME_LIFETIME_SECONDS=604800  # 7 days
SESSION_MAX_PER_USER=10

# Security Headers
SECURE_HEADERS_ENABLED=true
HSTS_MAX_AGE=0  # HSTS 비활성화 (개발 환경)

# Static/Media Files
STATIC_FILES_PATH=/var/www/maxlab-dev/static
MEDIA_FILES_PATH=/var/www/maxlab-dev/media
STATIC_FILES_ENABLED=true  # 개발 환경에서는 앱이 직접 제공

# Database Connection Pool
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_PRE_PING=true
DB_ECHO=true  # SQL 로깅 활성화

# Performance (개발 환경)
WORKERS=2
WORKER_CLASS=uvicorn.workers.UvicornWorker
WORKER_CONNECTIONS=100
WORKER_TIMEOUT=120
KEEPALIVE=5
GRACEFUL_TIMEOUT=10

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9091

# Scheduler
AUTO_CLOSE_DAYS_DEFAULT=90

# OAuth/OIDC Configuration
CLIENT_ID=maxlab-development

# Development Tools
ENABLE_DOCS=true
ENABLE_REDOC=true
ENABLE_OPENAPI=true